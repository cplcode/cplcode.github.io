<!DOCTYPE html>
<html lang=en>
<head>
  <title>CPL Reference Manual</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="author" content="Paolo Luchini">
  <meta name="copyright" content="Copyright 2001-2020 Paolo Luchini">
  <meta name="description" content="Language reference for CPL, a programming language designed and developed by Paolo Luchini during 1993-2020. Documentation and distribution offered for download includes a compiler, interpreter and text editor.">
  <meta name="keywords" content="cpl CPL numerical computation computational code program programmer programming language compiler interpreter editor fri FRI makecpl icpl edit">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../singlecol.css">
  <style>
    .page {
      display:none;
    }
    .page:target {
      display: block;
      white-space: pre-wrap;
      }
    th {
      text-align:left;
    }
  </style>
<link rel="canonical" href="https://CPLcode.net/Documentation/symbolic.html#Top">
</head>
<body><a href="../"><img id=seal src="../images/CPL-logo.png" alt="CPL"></a><div>

</div><div class=page id="Top">
Node: (symbolic)Top, Next: <a href="cpl.html#CHARbyCHAR">(cpl)CHARbyCHAR</a>, Prev: <a href="parallel.html#Top">(parallel)</a>, Up: <a href="cpl.html#Library">(cpl)Library</a>
<hr>

<h2>Symbolic differentiation</h2>
The symbolic.cpl library adds symbolic differentiation capabilities to CPL.
Symbolic differentiation is seamlessly integrated in the compiler, and happens
at compile time: any desired symbolic derivatives are determined during
compilation, and inlined in the generated code. Contrary to most other
symbolic-differentiation environments, therefore, the purpose is not so much to
generate user-readable derivatives as to generate (hopefully efficient) code.

Symbolic manipulation operates upon and generates <q>symbolic expressions</q>, which
can be assigned a symbolic name using the == operator and, like any r.h.s. of
this operator, may contain yet undefined variables. At the later position where
a symbolic expression or variable appears in an executable statement, code for
it is actually generated, just as in <a href="cpl.html#Delayed%20assignment">(cpl)Delayed assignment</a>.

The derivative of a symbolic expression with respect to a symbolic variable
&lt;svname&gt; (which is not allowed to contain an underscore in its name) is denoted
by either

        D_&lt;svname&gt;( &lt;symbolic expression&gt; )

or

        D( &lt;symbolic expression&gt; , &lt;svname&gt; )

When the latter form is used, &lt;svname&gt; may also be an array element (in the
usual indexed notation).

Higher derivatives and more general compound differential operators, which take
an expression as their argument, can be #define'd (<a href="cpl.html#C%20preprocessor">(cpl)C preprocessor</a>).
For example:

        #define laplacian(f) D_x(D_x(f))+D_y(D_y(f))+D_z(D_z(f))

A mechanism is provided to associate a derivative with a user-defined
expression (or more generally to override automatic differentiation): if a
variable named <q>D_</q> &lt;svname&gt; <q>_</q> &lt;vname&gt;) is declared, it will be
preferentially used wherever the derivative of variable &lt;vname&gt; with respect to
variable &lt;svname&gt; is needed. If such a variable was not previously defined and
&lt;vname&gt; is a symbolic expression, its derivative will be automatically
generated, otherwise an error will result. If &lt;vname&gt; is an ordinary CPL
variable rather than a symbolic expression, it will be treated as a constant
whose derivative is zero. As a side effect, variable names starting with <q>D_</q>
are reserved and should not be defined for other purposes when symbolic.cpl is
in USE.

</div></body></html>
