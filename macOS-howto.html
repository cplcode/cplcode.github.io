<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CPL on Macintosh</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="Paolo Luchini">
    <meta name="copyright" content="Copyright 2020 Paolo Luchini">
    <meta name="description" content="Step by step instructions to use CPL on Apple macOS.">
    <meta name="keywords" content="cpl CPL numerical computation computational code program programmer programming language compiler interpreter editor fri FRI makecpl icpl edit Apple Macintosh macOS OSX">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://CPLcode.net/macOS-howto.html">
    <link rel="stylesheet" href="singlecol.css">
</head>
  <body>
  <a href="./"><img id=seal src="images/CPL-logo.png" alt="CPL"></a>
  <div class=page>
    <h2>CPL-on-Macintosh howto</h2>
    <p>Apple macOS or OS X is a proprietary unix operating system, derived from the old BSD unix, and has all the characteristics for CPL tools and programs to run natively on it. However the classical unix programming tools are not part of the base system, but they are offered by Apple as a separate Xcode development environment. In addition, although Xcode includes a compiler named <code>gcc</code>, this is an Apple-modified version (also known as <code>clang</code>) and lacks some gcc extensions used by CPL. Unmodified <code>gcc</code> can be installed through a third-party package manager such as <a href="http://brew,sh">Homebrew</a>. Hence the following</p>
    Step by step instructions to use CPL on Apple macOS.
    <p>(partly modelled after <a href="https://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/">https://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/</a>)</p>
    <dl>
    <dt>1 - Open a terminal:</dt>
    <dd> If you do not already have the terminal icon in your Dock, enter <q>terminal</q> in the search box and click <q>terminal.app</q>.</dd>
    <dt>2 - Install Command Line Tools:</dt>
    <dd>Enter <pre>xcode-select --install</pre> A dialog box will pop up asking if you want to install the Command Line Developer Tools. Accept. If the box does not appear, you probably have them already. Alternately you can install the full Xcode development environment from the App Store, but only do so if you want this much larger package for other purposes.</dd>
    <dt>3 - Install the Homebrew package manager:</dt>
    <dd>Follow instructions on the <a href="brew.sh">brew.sh</a> website.</dd>
    <dt>4 - Install original <code>gcc</code> (the one provided by Apple is an alias for their own <code>clang</code>):</dt>
    <dd><pre>brew install gcc</pre>
    </dd>
    <dt>5 - Unpack the CPL archive you previously downloaded, with the <code>CC</code> environment variable pointing at the brew-installed C compiler (currently named <code>gcc-10</code>). Enter:</dt>
    <dd><pre>CC=gcc-10 sh Downloads/*cpl.sh</pre>
    all on a single line.</dd>
    <dt>6 - To activate CPL graphics, install gnuplot. As you already have Homebrew, enter:</dt>
    <dd><pre>brew install gnuplot</pre>
    or alternately you can find contributed OS X binaries on <a href="http://gnuplot.info">the official gnuplot site</a>.</dd>
    </dl>
    <p>You are all set! Please notice that you only need the above steps if you want to edit, compile or interpret a CPL program. A macOS-compiled CPL executable runs on bare macOS (with the addition of gnuplot if wanted).</p>
<footer>
      <p><a href="./Download.html">Back</a></p>
    </footer>
  </div>
  </body> 
</html>
