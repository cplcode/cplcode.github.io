<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CPL on Debian Linux on Windows</title>
    <meta name="author" content="Paolo Luchini">
    <meta name="copyright" content="Copyright 2020 Paolo Luchini">
    <meta name="description" content="Step-by-step instructions to use CPL, Linux within Microsoft Windows.">
    <meta name="keywords" content="cpl, CPL, debian, linux, numerical, computation, computational, code, program, programmer, programming language, compiler, command interpreter, text editor, fri, FRI, make, interactive, edit, WSL, windows subsystem for linux">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="author" href="https://CPLcode.net/Paolo.Luchini">
    <link rel="canonical" href="https://CPLcode.net/Windows-howto">
    <link rel="stylesheet" href="singlecol.css">
    <link rel="stylesheet" href="copyable.css">
    <script src="clipboard.js">
    </script>
  </head>
  <body translate="no">
  <a href="./"><img id=seal src="images/CPL-logo.png" alt="CPL"></a>
  <div class=page itemscope itemtype="https://schema.org/HowTo">
    <h1 itemprop="name">CPL-on-Debian-on-Windows howto</h1>
    <h3 itemprop="headline">Step-by-step instructions to use CPL, Linux in Microsoft Windows</h3>
    <dl itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
    <dt itemprop="name">1 - Enable WSL:</dt>
    <dd itemprop="text">To enable the Windows Subsystem for Linux (WSL) of Microsoft Windows 10 or 11 you can use the <q>wsl --install -d debian</q> terminal command as detailed <a href="https://learn.microsoft.com/en-us/windows/wsl/install" target=_blank>here</a>, or alternately open the Control Panel, then Programs and Features, then Turn Windows Features On or Off, and tick the box for Windows Subsystem for Linux.</dd>
    </dl>
    <dl itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
    <dt itemprop="name">2 - Install Debian on WSL:</dt>
    <dd itemprop="text">Open Microsoft Store, enter <q>debian</q> in search box, install the free Debian app (or Ubuntu, or your favourite other Linux distribution, MS has a few); launch the app. Skip this step if you used <q>-d debian</q> above.</dd>
    </dl>
    <p>In your newly opened Linux terminal enter the following commands. (Left-click in the orange box to copy, right-click in your terminal to paste.)</p>
    <dl itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
    <dt itemprop="name">3 - Bring Debian up to date:</dt>
    <dd itemprop="text"><pre class=copyable title="click to copy" onClick="CopyToClipboard(this)">sudo apt update && sudo apt upgrade
</pre>
    </dd>
    </dl>
    <dl itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
    <dt itemprop="name">4 - Install needed packages gcc, make, info, curl:</dt>
    <dd itemprop="text"><pre class=copyable title="click to copy" onClick="CopyToClipboard(this)">sudo apt install gcc make info curl
</pre>
    </dd>
    </dl>
    <dl itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
    <dt itemprop="name">5 - Download and unpack the CPL archive:</dt>
    <dd itemprop="text"><pre class=copyable title="click to copy" onClick="CopyToClipboard(this)">curl -fsS -o /tmp/unpack-cpl.sh https://CPLcode.net/version-archive/unpack-cpl.sh && sh /tmp/unpack-cpl.sh
</pre></dd>
    </dl>
<p><strong>You are all set!</strong> Please notice that steps 1-2 are enough if you only want to <em>run</em> a CPL executable provided to you. You actually need to install the gcc compiler and the CPL tools if you want to edit, compile or interpret a CPL program.</p>
<div itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
<p><strong itemprop="name">Possible quirks and their remedies:</strong> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToTip"><span itemprop="text">The first time you run it, the Debian terminal may refuse to start, and instruct you to install additional components provided by Microsoft. Just follow such instructions.</span></span></p>
<p itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToTip"><span itemprop="text">You may need to close and re-open the Debian window before the newly installed commands become available at the command prompt. You can open as many Debian terminals as you like; for instance, one to edit and one to run your new CPL program.</span></p>
    <p itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToTip"><span itemprop="text">When using the cpl editor, or for any other purpose, you may prefer black text on a white background; you can personalize colors in the Properties menu of the Debian console.</span></p>
    <p itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToTip"> <span itemprop="text">Mouse clicks over the right bottom corner of the Debian window are used by Windows and are not transmitted to the running program; this makes the |Info| button of the cpl editor nonfunctional. You can still access the same info manual and context-sensitive help in the editor by the <q>Esc I</q> key sequence, or outside the editor by the <q>cpl info edit</q> command.</span></p>
</div>
<div itemprop="step" itemscope itemtype="https://schema.org/HowToStep">
<p><strong itemprop="name">Notice about graphics:</strong> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToDirection"><span itemprop="text">Under Windows 10, Microsoft's Windows Subsystem for Linux provides a terminal-only experience of a Linux distribution, deprived of its Graphical User Interface. The CPL compiler, interpreter and editor all natively run in a terminal and will fit in seamlessly, but if your CPL program draws graphics and needs the additional <code>gnuplot</code> package to do so, installing it via Debian (as in <code>apt install gnuplot</code>) will not work. Instead you may want to install the Windows version of gnuplot, freely available from <a href="https://sourceforge.net/projects/gnuplot/" target=_blank>gnuplot's own repository</a>, and then</span></span></p>
    <dl itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToDirection">
    <dt><span itemprop="name">6 - link the gnuplot executable to your Debian home.</span> After you have successfully downloaded and installed gnuplot for Windows, in a Debian terminal paste and execute:</dt>
    <dd itemprop="text"><pre class=copyable title="click to copy" onClick="CopyToClipboard(this)">ln -s '/mnt/c/Program Files/gnuplot/bin/gnuplot.exe' bin/gnuplot
</pre></dd>
    </dl>
    <p itemprop="itemListElement" itemscope itemtype="https://schema.org/HowToTip"><span itemprop="text">Now you can access gnuplot simply as <code>gnuplot</code> in your Debian terminal, and graph-drawing CPL programs will automatically find and use it just as well.</span></p>
    </div>
    <p><strong>Windows 11 GUI update:</strong> Starting with Windows 11 Build 22000, WSL supports graphical user interfaces and applications. More details <a href="https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps">here</a>.</p>
    <div id=snackbar>copied.</div>
    <footer>
      <p><a href="./Download">Back</a></p>
    </footer>
  </div>
  </body> 
</html>
